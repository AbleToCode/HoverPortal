# HoverPortal - Windows 桌面交互增强插件需求文档

## 1. 项目愿景 (Project Vision)
打造 Windows 平台上最优雅、最高效的桌面文件预览工具。通过模拟“流体”或“气泡”的物理质感，让静态的文件夹图标在鼠标悬停时“活”过来，解决用户频繁打开资源管理器查找文件的痛点，将桌面交互体验提升至新的高度。

## 2. 核心价值 (Core Value)
*   **极致丝滑 (Silky Smooth)**: 摒弃生硬的窗口弹出，采用高帧率、非线性的弹簧物理动画，提供指尖般的触感。
*   **即刻触达 (Instant Access)**: 无需双击进入深层目录，悬停即见，点击即达。
*   **桌面美学 (Desktop Aesthetics)**: 深度融合 Windows 11 Mica/Acrylic 视觉风格，让工具成为桌面的装饰品。

## 3. 详细功能需求 (Detailed Features)

### 3.1 智能悬停与激活 (Hover & Activation)
*   **FR-01 感知响应**:
    *   鼠标停留在桌面文件夹图标上方达到设定阈值（如 200ms - 500ms 可调）时触发。
    *   **防误触机制**: 快速划过不触发，鼠标轻微移动但在图标范围内视为保持悬停。
*   **FR-02 动态展开 (Liquid Expansion)**:
    *   **动画效果**: 文件夹不应弹出标准矩形窗口，而是从图标为中心，平滑地“生长”或“展开”出一个圆角矩形面板。
    *   **物理引擎**: 引入弹簧阻尼 (Spring Damping) 效果，展开和收缩具有惯性，避免线性移动的廉价感。

### 3.2 沉浸式预览面板 (Immersive Preview)
*   **FR-03 视觉呈现**:
    *   **背景**: 支持磨砂毛玻璃 (Acrylic/Blur) 效果，随壁纸颜色动态调整，支持暗色/亮色模式自动切换。
    *   **布局**: 智能网格布局 (Smart Grid)，自动根据文件数量调整面板大小，最多显示前 N 个文件（支持翻页或滚动）。
*   **FR-04 内容映射**:
    *   显示系统原生高分辨率图标。
    *   支持显示文件名、修改日期（可选）。
    *   支持缩略图预览（针对图片、视频文件）。

### 3.3 深度交互能力 (Deep Interaction)
*   **FR-05 基础操作**:
    *   **单击**: 直接打开文件/子文件夹（子文件夹可在当前面板层级下钻，或展开二级面板）。
    *   **中键/双击**: 打开所在目录的资源管理器窗口。
*   **FR-06 拖拽增强 (Drag & Drop)**:
    *   **拖出**: 将文件从预览面板拖拽到其他软件（如 Word, PS）或桌面其他位置。
    *   **拖入**: 拖拽外部文件悬停在桌面文件夹上，预览面板自动展开，允许用户将文件精准放入特定子目录。
*   **FR-07 快捷键支持**:
    *   支持 `Space` 空格键预览选中文件（集成 QuickLook 逻辑）。

### 3.4 个性化与设置 (Customization)
*   **FR-08 动画曲线调优**: 提供“极速”、“均衡”、“优雅”三档预设，或允许用户自定义贝塞尔曲线。
*   **FR-09 样式定制**: 自定义面板圆角半径、边框颜色、背景透明度。

## 4. 技术与性能约束 (Technical Constraints)
*   **TR-01 原生性能**: 必须采用 C# (WPF/WinUI 3) 或 C++ 开发，确保内存占用极低 (<50MB)，动画帧率稳定 60fps+。
*   **TR-02 系统兼容**: 完美支持 Windows 10 (1903+) 及 Windows 11。
*   **TR-03 DPI 感知**: 在 4K/200% 缩放屏幕上文字与图标清晰无锯齿。

## 5. 用户故事 (User Stories)
*   **场景 A (设计师)**: 桌面有个 "Assets" 文件夹。设计师将鼠标悬停，文件夹像水滴一样展开，显示出最新的 PNG 素材。设计师直接将素材拖入 Photoshop，全程甚至不需要点击鼠标。
*   **场景 B (整理控)**: 用户下载了一堆文件到桌面。拖拽文件悬停在 "归档" 文件夹上，文件夹展开显示 "2023"、"2024" 子目录，用户将文件精确丢入 "2024"，操作行云流水。







